@page "/"
@using StudentProjectManager.Models;
@using StudentProjectManager.Repository;

<PageTitle>Index</PageTitle>

@inject IHttpContextAccessor HttpContextAccessor

@if (username != null)
{
    <p>Welcome, <b>@username</b>!</p>
}
else
{
    <p>Welcome, guest!</p>
}



@code {
    private string username;


    protected override async Task OnInitializedAsync()
    {
        var user = HttpContextAccessor.HttpContext.User;
        if (user.Identity.IsAuthenticated)
        {
            username = user.Identity.Name;
        }
    }
}